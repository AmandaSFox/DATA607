---
title: "Week 3 - Assignment"
author: "Amanda Fox"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(tidytext)
library(dplyr)
library(plyr)
```

### 1. Identify Data or Stats Majors in a Table

The fivethirtyeight.com table College Majors contains 173 college majors (https://raw.githubusercontent.com/fivethirtyeight/data/master/college-majors/majors-list.csv). To identify the majors containing the strings "DATA" or "STATISTICS," I first loaded the .csv from Github:


```{r 'Load data'}

# Load csv file from github and verify

majors<-read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/college-majors/majors-list.csv")

```
  
  
To find majors that contain the strings "DATA" or "STATISTICS" in any position, I used the stringr function str_detect to filter the dataframe:
  
  
```{r 'Filter Majors'}

# Use str_detect and filter function with OR operator
majors %>% 
  filter(str_detect(majors$Major,"DATA") =='TRUE'|str_detect(majors$Major,"STATISTICS")=='TRUE')

```
  
  
Another way to accomplish this would be to create flag fields in the dataframe to flag majors containing the words DATA or STATISTICS and then print the records where either of the flags = TRUE: adding flags to the dataframe (table, view) can be useful for frequently-used searches, particularly those requiring complex logic:
  
  
```{r 'Flag Majors'}
# Add flags for Data and Stats majors
majors<-mutate(majors, data_flag=str_detect(majors$Major,"DATA"))
majors<-mutate(majors, stat_flag=str_detect(majors$Major,"STATISTICS"))

# Print records where either is TRUE
majors %>% 
  filter(data_flag=='TRUE'|stat_flag=='TRUE')

```
  
  
### 2. Convert data in a vector to a string in a given format 

First, I copied the text string provided in the question to create a vector v. Then I converted that vector to a string using the paste0 function, adding characters "c(" and ")" at either end; i.e., I recreated the combine function used to create the vector.

```{r test}

# Create vector v and print
v<-c("bell pepper", "bilberry", "blackberry", "blood orange", "blueberry", "cantaloupe", "chili pepper", "cloudberry", "elderberry", "lime", "lychee", "mulberry", "olive", "salal berry")
v

# Convert vector back to temporary string ("a") with commas and quotes

a<-paste0(v,sep="",collapse='","')
cat(a)

# Use paste0 to add necessary beginning and ending characters to the final string "v_str"

v_str<-paste0('c("',a,'")')
cat(v_str)

```
### 3. Describe how given expressions will match
  
The given expressions will match strings as follows:  
  
(.)\1\1 - Needs double quotes and the backslashes need to be escaped (double backslashes), but with those corrections (see below), this expression matches to three of the same character in a row  
  
"(.)(.)\\2\\1" - Two characters followed immediately by the same two characters in reverse order  
  
(..)\1 - Needs double quotes and the backslash needs to be escaped (double backslash), but with this done (see below), it will match two characters followed immediately by the same two characters in the same order  
  
"(.).\\1.\\1" - One character followed by another, followed by the first character again, followed by another character, followed by the first character again  (i.e. a string of five characters, with one character repeating in places 1, 3, and 5)
  
"(.)(.)(.).*\\3\\2\\1" - Three characters, possibly followed by one or more other characters, then the same three characters in reverse order

```{r test_strings}
test<-c("ed","bed","hundred","anna","banana","aaabbaaa")
str_view(test,"(.)\\1\\1")
str_view(test,"(.)(.)\\2\\1")
str_view(test,"(..)\\1")
str_view(test,"(.).\\1.\\1")
str_view(test,"(.)(.)(.).*\\3\\2\\1")

``` 

### 4. Construct regular expressions  
  
Construct regular expressions to match words that:
    
1. Start and end with the same character: str_view(words,"(^.).*\\1$")
  
2. Contain a repeated pair of letters (e.g. "church" contains "ch" repeated twice.): str_view(words,"(..).*\\1")
  
3. Contain one letter repeated in at least three places (e.g. "eleven" contains three "e"s.): str_view(words,".*(.).*\\1.*\\1")


```{r create_expressions}

# Start and end with the same character
str_view(words,"(^.).*\\1$")

# Contain a repeated pair of letters
str_view(words,"(..).*\\1")

# Contain one letter repeated in at least three places
str_view(words,".*(.).*\\1.*\\1")
